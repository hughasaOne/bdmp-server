2023-03-03 14:49:24.684 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 14:49:24.687 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 14:49:30.171 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcesServiceImpl': Unsatisfied dependency expressed through field 'dataSourcesMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcesMapper' defined in URL [jar:file:/E:/maven/mvnresp/com/ovit/multi-db-multi-tenant-module/0.0.1-SNAPSHOT/multi-db-multi-tenant-module-0.0.1-SNAPSHOT.jar!/com/ovit/cloud/db/datasources/mapper/DataSourcesMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/ovit/cloud/db/datasources/config/DynamicDataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.ovit.cloud.db.datasources.core.DynamicDataSource]: Factory method 'dynamicDataSource' threw exception; nested exception is java.sql.SQLException: com.mysql.cj.jdbc.Driver
2023-03-03 14:50:41.983 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 14:50:41.987 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 14:51:09.081 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcesServiceImpl': Unsatisfied dependency expressed through field 'dataSourcesMapper'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcesMapper' defined in URL [jar:file:/E:/maven/mvnresp/com/ovit/multi-db-multi-tenant-module/0.0.1-SNAPSHOT/multi-db-multi-tenant-module-0.0.1-SNAPSHOT.jar!/com/ovit/cloud/db/datasources/mapper/DataSourcesMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/ovit/cloud/db/datasources/config/DynamicDataSourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.ovit.cloud.db.datasources.core.DynamicDataSource]: Factory method 'dynamicDataSource' threw exception; nested exception is com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2023-03-03 14:58:01.879 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 14:58:01.883 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 14:58:20.886 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 14:58:20.895 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 14:58:23.657 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2023-03-03 14:59:31.776 [http-nio-60005-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 't_bdmp_sys_user.tenant_id' in 'where clause'
### The error may exist in file [D:\work\bdmp-server\bdmp-public\target\classes\mapper\assets\AssetsPermissionsTreeMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM t_bdmp_sys_user WHERE user_id = ? AND t_bdmp_sys_user.tenant_id = 'basedata'
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 't_bdmp_sys_user.tenant_id' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 't_bdmp_sys_user.tenant_id' in 'where clause']
2023-03-03 14:59:43.964 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 14:59:43.967 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 14:59:53.787 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 14:59:53.795 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 15:00:00.665 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2023-03-03 15:01:04.820 [http-nio-60005-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.rhy.bcp.common.exception.BadRequestException: 用户信息不存在]
2023-03-03 15:57:57.915 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 15:57:57.917 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 15:58:05.715 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 15:58:05.722 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 15:58:07.585 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2023-03-03 16:00:21.477 [http-nio-60005-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.rhy.bcp.common.exception.BadRequestException: 用户信息不存在]
2023-03-03 16:05:33.776 [http-nio-60005-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.rhy.bcp.common.exception.BadRequestException: 用户信息不存在]
2023-03-03 16:21:53.721 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 16:21:53.723 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 16:22:01.462 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:22:01.466 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:22:03.026 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2023-03-03 16:22:44.828 [http-nio-60005-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [feign.RetryableException: Read timed out executing GET http://system-manager-server/tenant_user/select_userList_by_userId?userId=1626489862762553346]
2023-03-03 16:24:02.097 [com.alibaba.nacos.naming.push.receiver] WARN  com.alibaba.nacos.client.naming - out of date data received, old-t: 1677831842090, new-t: 1677831810280
2023-03-03 16:24:06.186 [http-nio-60005-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.rhy.bcp.common.exception.BadRequestException: 用户信息不存在]
2023-03-03 16:25:14.912 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 16:25:14.914 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 16:25:24.282 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:25:24.288 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:25:25.880 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
2023-03-03 16:26:32.568 [com.alibaba.nacos.client.naming.updater] WARN  com.alibaba.nacos.client.naming - out of date data received, old-t: 1677831990367, new-t: 1677831989356
2023-03-03 16:26:36.041 [http-nio-60005-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause'
### The error may exist in file [D:\work\bdmp-server\bdmp-public\target\classes\mapper\assets\WayMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT ROUND(sum(way.mileage), 4) AS totalMileage, count(*) AS wayNum FROM t_bdmp_assets_waysection way WHERE way.manage_id = ? AND way.tenant_id = 'basedata'
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause']
2023-03-03 16:30:16.187 [http-nio-60005-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause'
### The error may exist in file [D:\work\bdmp-server\bdmp-public\target\classes\mapper\assets\WayMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT ROUND(sum(way.mileage), 4) AS totalMileage, count(*) AS wayNum FROM t_bdmp_assets_waysection way WHERE way.manage_id = ? AND way.tenant_id = 'basedata'
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'way.tenant_id' in 'where clause']
2023-03-03 16:31:23.360 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public] & group[COMMON_GROUP]
2023-03-03 16:31:23.362 [restartedMain] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[bdmp-public.yaml] & group[COMMON_GROUP]
2023-03-03 16:31:31.159 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:31:31.164 [restartedMain] WARN  com.netflix.config.sources.URLConfigurationSource - No URLs will be polled as dynamic configuration sources.
2023-03-03 16:31:32.899 [restartedMain] WARN  o.s.c.l.c.BlockingLoadBalancerClientAutoConfiguration$BlockingLoadBalancerClientRibbonWarnLogger - You already have RibbonLoadBalancerClient on your classpath. It will be used by default. As Spring Cloud Ribbon is in maintenance mode. We recommend switching to BlockingLoadBalancerClient instead. In order to use it, set the value of `spring.cloud.loadbalancer.ribbon.enabled` to `false` or remove spring-cloud-starter-netflix-ribbon from your project.
